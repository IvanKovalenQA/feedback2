<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>Анкета специалиста</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      padding: 0;
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
        sans-serif;
      background: url("https://raw.githubusercontent.com/IvanKovalenQA/feedback2/main/pick.jpg")
        no-repeat center center fixed;
      background-size: cover;
    }

    .overlay {
      width: 100%;
      max-width: 820px;
      background: rgba(255, 255, 255, 0.94);
      border-radius: 18px;
      padding: 26px 32px 32px;
      box-shadow: 0 15px 35px rgba(0, 0, 0, 0.35);
      backdrop-filter: blur(6px);
    }

    h1 {
      margin: 0 0 4px;
      font-size: 1.6rem;
      text-align: center;
    }

    .subtitle {
      text-align: center;
      font-size: 0.92rem;
      opacity: 0.8;
      margin-bottom: 18px;
    }

    .progress-container {
      margin-bottom: 16px;
    }

    .progress-label {
      display: flex;
      justify-content: space-between;
      font-size: 0.8rem;
      margin-bottom: 6px;
      opacity: 0.8;
    }

    .progress-bar {
      width: 100%;
      height: 7px;
      border-radius: 999px;
      background: #e5e5e5;
      overflow: hidden;
    }

    .progress-fill {
      height: 100%;
      width: 0%;
      background: #000;
      border-radius: 999px;
      transition: width 0.3s ease;
    }

    .step {
      display: none;
      animation: fadeIn 0.25s ease;
    }
    .step.active {
      display: block;
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(4px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .step-title {
      font-weight: 600;
      margin-bottom: 12px;
      font-size: 1.05rem;
    }

    .step-description {
      font-size: 0.9rem;
      opacity: 0.8;
      margin-bottom: 14px;
    }

    .grid-2 {
      display: grid;
      gap: 10px 18px;
    }
    @media (min-width: 768px) {
      .grid-2 {
        grid-template-columns: repeat(2, minmax(0, 1fr));
      }
    }

    .form-group {
      margin-bottom: 14px;
    }

    label {
      display: block;
      font-size: 0.9rem;
      font-weight: 600;
      margin-bottom: 4px;
    }

    .hint {
      font-size: 0.8rem;
      opacity: 0.7;
      margin-bottom: 4px;
    }

    input[type="text"],
    input[type="tel"],
    input[type="number"],
    textarea {
      width: 100%;
      padding: 8px 10px;
      border-radius: 8px;
      border: 1px solid #d3d3d3;
      font: inherit;
      background-color: #fafafa;
      outline: none;
    }

    input:focus,
    textarea:focus {
      border-color: #000;
      background-color: #fff;
    }

    textarea {
      min-height: 70px;
      resize: vertical;
    }

    .radio-row {
      display: flex;
      flex-wrap: wrap;
      gap: 10px 18px;
      margin-top: 4px;
    }

    button {
      border: none;
      border-radius: 999px;
      padding: 9px 22px;
      font: inherit;
      font-weight: 600;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      transition: 0.15s ease;
    }

    .btn-secondary {
      background: #f1f1f1;
      color: #111;
    }
    .btn-primary {
      background: #000;
      color: #fff;
    }

    .success-message {
      margin-top: 12px;
      padding: 12px 15px;
      background: #e7fbe7;
      border: 1px solid #88dd88;
      border-radius: 10px;
      font-size: 0.95rem;
    }

    .navigation {
      margin-top: 22px;
      display: flex;
      justify-content: space-between;
    }

    .hidden {
      display: none !important;
    }
  </style>
</head>

<body>

  <div class="overlay">
    <h1>Анкета специалиста</h1>
    <p class="subtitle">
      Ответьте на вопросы, чтобы мы могли описать вашу услугу и ценность для клиентов.
    </p>

    <div class="progress-container">
      <div class="progress-label">
        <span id="progress-text">Шаг 1 из 4</span>
        <span id="step-title-short">Контакты</span>
      </div>
      <div class="progress-bar">
        <div class="progress-fill" id="progress-fill"></div>
      </div>
    </div>

    <form id="wizard-form">
      <div class="steps">
<!-- ======== ШАГ 1 ======== -->
<section class="step active" data-step="1" data-title-short="Контакты">
  <div class="step-title">Контакты и базовая информация</div>

  <div class="grid-2">
    <div class="form-group">
      <label>Имя и фамилия *</label>
      <input type="text" name="name" required>
    </div>

    <div class="form-group">
      <label>Телефон</label>
      <input type="tel" name="phone">
    </div>
  </div>

  <div class="form-group">
    <label>Соцсети</label>
    <textarea name="socials"></textarea>
  </div>

  <div class="form-group">
    <label>Какую услугу вы предоставляете? *</label>
    <input type="text" name="service" required>
  </div>
</section>

<!-- ======== ШАГ 2 ======== -->
<section class="step" data-step="2" data-title-short="Практика">
  <div class="step-title">Суть вашей практики</div>

  <div class="form-group">
    <label>Какие проблемы вы помогаете решать? *</label>
    <textarea name="problems" required></textarea>
  </div>

  <div class="form-group">
    <label>Как ваша практика помогает?</label>
    <textarea name="practice_help"></textarea>
  </div>

  <div class="grid-2">
    <div class="form-group">
      <label>Опыт (лет)</label>
      <input type="number" name="experience">
    </div>

    <div class="form-group">
      <label>Сколько людей вы уже консультировали?</label>
      <input type="number" name="people_count">
    </div>
  </div>
</section>

<!-- ======== ШАГ 3 ======== -->
<section class="step" data-step="3" data-title-short="Аудитория">
  <div class="step-title">Кому вы помогаете</div>

  <div class="form-group">
    <label>Возрастные ограничения?</label>
    <div class="radio-row">
      <label><input type="radio" name="age-limit-radio" value="нет" checked> Нет</label>
      <label><input type="radio" name="age-limit-radio" value="есть"> Да</label>
    </div>

    <div id="age-limit-details" class="hidden">
      <textarea name="age_limit"></textarea>
    </div>
  </div>

  <div class="form-group">
    <label>Ограничения по полу?</label>
    <div class="radio-row">
      <label><input type="radio" name="gender-limit-radio" value="нет" checked> Нет</label>
      <label><input type="radio" name="gender-limit-radio" value="женщины"> Только женщины</label>
      <label><input type="radio" name="gender-limit-radio" value="мужчины"> Только мужчины</label>
      <label><input type="radio" name="gender-limit-radio" value="другое"> Уточнить</label>
    </div>

    <div id="gender-limit-details" class="hidden">
      <textarea name="gender_limit"></textarea>
    </div>
  </div>

  <div class="form-group">
    <label>Ваш идеальный клиент</label>
    <textarea name="ideal_client"></textarea>
  </div>
</section>

<!-- ======== ШАГ 4 ======== -->
<section class="step" data-step="4" data-title-short="Уникальность">
  <div class="step-title">Ваша уникальность</div>

  <div class="form-group">
    <label>Чем вы отличаетесь от других?</label>
    <textarea name="difference"></textarea>
  </div>

  <div class="form-group">
    <label>Формат работы</label>
    <textarea name="format"></textarea>
  </div>

  <div id="success" class="success-message hidden">
    Спасибо! Ваши ответы сохранены в Google Sheets.
  </div>
</section>

</div>

<!-- ======== НАВИГАЦИЯ ======== -->
<div class="navigation">
  <button type="button" id="prev-btn" class="btn-secondary hidden">← Назад</button>
  <button type="button" id="next-btn" class="btn-primary">Далее →</button>
  <button type="submit" id="submit-btn" class="btn-primary hidden">Завершить</button>
</div>

</form>
</div>

<script>
(function () {

  /* ---------- ТВОЙ РЕАЛЬНЫЙ URL ВСТАВЛЕН ЗДЕСЬ ---------- */
  const SCRIPT_URL = "https://script.google.com/macros/s/AKfycbyuG1zrIquREZwlEGaNCH-CUOrTsV5rYv1SoNSR2ExEjdNaYczERUy87Oj5MmWcxLgYCg/exec";

  const form = document.getElementById("wizard-form");
  const steps = [...document.querySelectorAll(".step")];
  const prevBtn = document.getElementById("prev-btn");
  const nextBtn = document.getElementById("next-btn");
  const submitBtn = document.getElementById("submit-btn");
  const progressFill = document.getElementById("progress-fill");
  const progressText = document.getElementById("progress-text");
  const stepTitleShort = document.getElementById("step-title-short");
  const success = document.getElementById("success");

  let currentStep = 1;

  function showStep(n) {
    steps.forEach(s => s.classList.remove("active"));
    steps[n - 1].classList.add("active");

    prevBtn.classList.toggle("hidden", n === 1);
    nextBtn.classList.toggle("hidden", n === steps.length);
    submitBtn.classList.toggle("hidden", n !== steps.length);

    progressFill.style.width = (n / steps.length) * 100 + "%";
    progressText.textContent = `Шаг ${n} из ${steps.length}`;
    stepTitleShort.textContent = steps[n - 1].dataset.titleShort;
  }

  prevBtn.onclick = () => {
    if (currentStep > 1) showStep(--currentStep);
  };

  nextBtn.onclick = () => {
    showStep(++currentStep);
  };

  // Показ скрытых полей
  document.querySelectorAll("input[name='age-limit-radio']").forEach(r => {
    r.onchange = () => {
      document.getElementById("age-limit-details").classList.toggle("hidden", r.value !== "есть");
    };
  });

  document.querySelectorAll("input[name='gender-limit-radio']").forEach(r => {
    r.onchange = () => {
      document.getElementById("gender-limit-details").classList.toggle("hidden", r.value !== "другое");
    };
  });

  /* ---------- ОТПРАВКА В GOOGLE SHEETS ---------- */
  form.onsubmit = async (e) => {
    e.preventDefault();

    submitBtn.textContent = "Отправка...";
    submitBtn.disabled = true;

    try {
      const response = await fetch(SCRIPT_URL, {
        method: "POST",
        body: new FormData(form)
      });

      const result = await response.json();

      if (result.status !== "success") throw new Error();

      nextBtn.classList.add("hidden");
      submitBtn.classList.add("hidden");
      prevBtn.classList.add("hidden");

      success.classList.remove("hidden");
      success.scrollIntoView({ behavior: "smooth" });

    } catch (err) {
      alert("Ошибка отправки. Проверь публикацию скрипта.");
    }

    submitBtn.textContent = "Завершить";
    submitBtn.disabled = false;
  };

  showStep(1);

})();
</script>

</body>
</html>

